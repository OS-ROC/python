# Python é¢å‘å¯¹è±¡ç¼–ç¨‹æ ¸å¿ƒè¦ç‚¹è¯¦è§£



## ğŸ“š 1ã€ç±»ä¸å¯¹è±¡åŸºç¡€



### æ¦‚å¿µå®šä¹‰



- **ç±»(Class)** ï¼šç°å®äº‹ç‰©çš„æŠ½è±¡æè¿°ï¼Œå®šä¹‰å±æ€§å’Œè¡Œä¸º
- **å¯¹è±¡(Object)** ï¼šç±»çš„å…·ä½“å®ä¾‹ï¼Œæ‰¿è½½ç±»å®šä¹‰çš„ç‰¹å¾ä¸åŠŸèƒ½



### è¯­æ³•ç»“æ„



```python
# ç±»å®šä¹‰
class ClassName:
    # å±æ€§å®šä¹‰
    attribute = value
    
    # æ–¹æ³•å®šä¹‰
    def method(self, parameters):
        # æ–¹æ³•é€»è¾‘
        return result
```



### æ ¸å¿ƒç¤ºä¾‹



```python
# å®šä¹‰å­¦ç”Ÿç±»
class Student:
    # ç±»å±æ€§ï¼ˆæ‰€æœ‰å®ä¾‹å…±äº«ï¼‰
    school_name = "é˜³å…‰å¤§å­¦"
    
    # æ„é€ æ–¹æ³•
    def __init__(self, name, age):
        self.name = name  # å®ä¾‹å±æ€§
        self.age = age    # å®ä¾‹å±æ€§
    
    # æˆå‘˜æ–¹æ³•
    def introduce(self):
        return f"æˆ‘å«{self.name}ï¼Œä»Šå¹´{self.age}å²"

# åˆ›å»ºå¯¹è±¡
student1 = Student("å¼ ä¸‰", 20)
print(student1.introduce())  # è¾“å‡ºï¼šæˆ‘å«å¼ ä¸‰ï¼Œä»Šå¹´20å²
```



## âœ¨ 2ã€é­”æœ¯æ–¹æ³•é€ŸæŸ¥è¡¨



### å¸¸ç”¨é­”æœ¯æ–¹æ³•




| æ–¹æ³•å     | ä½œç”¨         | åº”ç”¨åœºæ™¯             |
| ---------- | ------------ | -------------------- |
| `__init__` | åˆå§‹åŒ–å¯¹è±¡   | åˆ›å»ºå®ä¾‹æ—¶åˆå§‹åŒ–å±æ€§ |
| `__lt__`   | å°äºæ¯”è¾ƒ     | `a < b`              |
| `__le__`   | å°äºç­‰äºæ¯”è¾ƒ | `a <= b`             |
| `__eq__`   | ç­‰äºæ¯”è¾ƒ     | `a == b`             |
| `__str__`  | å­—ç¬¦ä¸²è¡¨ç¤º   | `str(obj)`           |





### æ¯”è¾ƒæ–¹æ³•ç¤ºä¾‹



```python
class Student:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    # å®ç°å°äºæ¯”è¾ƒ
    def __lt__(self, other):
        return self.age < other.age
    
    # å®ç°ç­‰äºæ¯”è¾ƒ
    def __eq__(self, other):
        return self.name == other.name and self.age == other.age

stu1 = Student("Alice", 18)
stu2 = Student("Bob", 20)
print(stu1 < stu2)   # è¾“å‡ºï¼šTrue
print(stu1 == stu2)  # è¾“å‡ºï¼šFalse
```



## ğŸ”’ 3ã€å°è£…æœºåˆ¶



### æ ¸å¿ƒæ¦‚å¿µ



- **å°è£…**ï¼šå°†å±æ€§å’Œè¡Œä¸ºæ†ç»‘ï¼Œé€šè¿‡è®¿é—®æ§åˆ¶ä¿æŠ¤å†…éƒ¨å®ç°
- **ç§æœ‰æˆå‘˜**ï¼šä»¥åŒä¸‹åˆ’çº¿`__`å¼€å¤´ï¼Œä»…ç±»å†…éƒ¨å¯è®¿é—®



### å®ç°ç¤ºä¾‹



```python
class BankAccount:
    def __init__(self, balance):
        self.__balance = balance  # ç§æœ‰å±æ€§
    
    def deposit(self, amount):
        if amount > 0:
            self.__balance += amount  # å†…éƒ¨æ–¹æ³•å¯è®¿é—®ç§æœ‰å±æ€§
    
    def get_balance(self):
        return self.__balance  # é€šè¿‡å…¬å…±æ–¹æ³•æš´éœ²ç§æœ‰å±æ€§

account = BankAccount(1000)
account.deposit(500)
print(account.get_balance())  # è¾“å‡ºï¼š1500
# print(account.__balance)  # é”™è¯¯ï¼šæ— æ³•ç›´æ¥è®¿é—®ç§æœ‰å±æ€§
```



## ğŸ‘ª 4ã€ç»§æ‰¿ä¸å¤šæ€



### ç»§æ‰¿è¯­æ³•



```python
# å•ç»§æ‰¿
class Parent:
    def method(self):
        print("çˆ¶ç±»æ–¹æ³•")

class Child(Parent):
    # å¤å†™çˆ¶ç±»æ–¹æ³•
    def method(self):
        print("å­ç±»æ–¹æ³•")
        super().method()  # è°ƒç”¨çˆ¶ç±»æ–¹æ³•

# å¤šç»§æ‰¿
class A:
    def func(self):
        print("Aç±»æ–¹æ³•")

class B:
    def func(self):
        print("Bç±»æ–¹æ³•")

class C(A, B):  # ä»å·¦åˆ°å³ç»§æ‰¿
    pass

c = C()
c.func()  # è¾“å‡ºï¼šAç±»æ–¹æ³•ï¼ˆä¼˜å…ˆç»§æ‰¿å·¦ä¾§çˆ¶ç±»ï¼‰
```



### å¤šæ€åº”ç”¨



```python
from abc import ABC, abstractmethod

# æŠ½è±¡åŸºç±»
class Animal(ABC):
    @abstractmethod
    def make_sound(self):
        pass

# å­ç±»å®ç°
class Dog(Animal):
    def make_sound(self):
        print("æ±ªæ±ªæ±ª")

class Cat(Animal):
    def make_sound(self):
        print("å–µå–µå–µ")

# å¤šæ€è°ƒç”¨
def animal_sound(animal):
    animal.make_sound()

# ä¼ å…¥ä¸åŒå¯¹è±¡ï¼Œæ‰§è¡Œä¸åŒå®ç°
animal_sound(Dog())  # è¾“å‡ºï¼šæ±ªæ±ªæ±ª
animal_sound(Cat())  # è¾“å‡ºï¼šå–µå–µå–µ
```



## ğŸ“Š 5ã€ç±»å‹æ³¨è§£è§„èŒƒ



### åŸºç¡€è¯­æ³•



```python
# å˜é‡æ³¨è§£
name: str = "Alice"
age: int = 25
scores: list[int] = [90, 85, 95]
person: dict[str, any] = {"name": "Bob", "age": 30}

# å‡½æ•°æ³¨è§£
def add(x: int, y: int) -> int:
    return x + y

# è”åˆç±»å‹æ³¨è§£
from typing import Union, List

def get_value() -> Union[str, int]:
    return "hello" if condition else 42

data: List[Union[int, str]] = [1, "two", 3]
```



### å¸¸ç”¨ç±»å‹æ ‡æ³¨



è¡¨æ ¼

å¤åˆ¶

| ç±»å‹     | æ³¨è§£æ–¹å¼           | è¯´æ˜                 |
| -------- | ------------------ | -------------------- |
| åˆ—è¡¨     | `list[int]`        | æ•´æ•°åˆ—è¡¨             |
| å­—å…¸     | `dict[str, float]` | å­—ç¬¦ä¸²é”®æµ®ç‚¹æ•°å€¼     |
| å…ƒç»„     | `tuple[str, int]`  | å›ºå®šç±»å‹å’Œé•¿åº¦çš„å…ƒç»„ |
| å¯é€‰ç±»å‹ | `Optional[str]`    | å­—ç¬¦ä¸²æˆ–None         |
| ä»»æ„ç±»å‹ | `Any`              | ä»»æ„ç±»å‹             |





## ğŸ’» 6ã€ç»¼åˆæ¡ˆä¾‹å®æˆ˜



```python
from abc import ABC, abstractmethod
from typing import List, Union

# æŠ½è±¡è®¾å¤‡ç±»
class Device(ABC):
    def __init__(self, device_id: str, name: str):
        self.__device_id = device_id  # ç§æœ‰å±æ€§
        self.name = name
        
    @property
    def device_id(self) -> str:
        return self.__device_id
        
    @abstractmethod
    def control(self, command: str) -> str:
        pass

# æ™ºèƒ½è®¾å¤‡ç±»
class SmartDevice(Device):
    def __init__(self, device_id: str, name: str, ip: str):
        super().__init__(device_id, name)
        self.ip_address = ip
        
    def connect(self) -> str:
        return f"è®¾å¤‡ {self.name} å·²è¿æ¥åˆ° {self.ip_address}"

# å…·ä½“è®¾å¤‡å®ç°
class Light(SmartDevice):
    def control(self, command: str) -> str:
        if command in ["on", "off"]:
            return f"ç¯å…‰ {self.name} {command}"
        return "æ— æ•ˆå‘½ä»¤"

class Thermostat(SmartDevice):
    def control(self, command: Union[str, int]) -> str:
        if isinstance(command, int):
            return f"æ¸©æ§å™¨è®¾ç½®ä¸º {command}Â°C"
        return f"æ¸©æ§å™¨ {command}"

# å¤šæ€è°ƒç”¨
def manage_devices(devices: List[Device]) -> None:
    for device in devices:
        if isinstance(device, SmartDevice):
            print(device.connect())
        print(device.control("on" if isinstance(device, Light) else 24))

# ä½¿ç”¨ç¤ºä¾‹
devices = [
    Light("d1", "å®¢å…ç¯", "192.168.1.101"),
    Thermostat("d2", "å§å®¤æ¸©æ§å™¨", "192.168.1.102")
]
manage_devices(devices)
```



## ğŸ“ 7ã€æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§



1. **å°è£…**ï¼šæ•°æ®éšè—ä¸æ¥å£æš´éœ²
2. **ç»§æ‰¿**ï¼šä»£ç å¤ç”¨ä¸åŠŸèƒ½æ‰©å±•
3. **å¤šæ€**ï¼šæ¥å£ç»Ÿä¸€ä¸å®ç°å¤šæ ·



### å¼€å‘æœ€ä½³å®è·µ



- ç±»åä½¿ç”¨**å¸•æ–¯å¡å‘½åæ³•**ï¼ˆå¦‚`Student`ï¼‰
- æ–¹æ³•å’Œå±æ€§ä½¿ç”¨**è›‡å½¢å‘½åæ³•**ï¼ˆå¦‚`get_name`ï¼‰
- ä¼˜å…ˆä½¿ç”¨ç»„åˆè€Œéç»§æ‰¿å®ç°åŠŸèƒ½å¤ç”¨
- é€šè¿‡æŠ½è±¡ç±»å®šä¹‰æ¥å£è§„èŒƒ
- ä½¿ç”¨ç±»å‹æ³¨è§£æå‡ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§