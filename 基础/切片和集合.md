# Python 序列操作与集合

## 一、序列（列表、元组、字符串）

### 1.1 序列定义
序列是指内容连续、有序，支持下标索引的一类数据容器，包括：
- 列表（使用`[]`）
- 元组（使用`()`）
- 字符串（使用`""`或`''`）

索引方式：
- 正向索引：从0开始，到n-1
- 反向索引：从-n开始，到-1

### 1.2 切片操作
**语法**：`序列[起始下标:结束下标:步长]`

- 起始下标：开始位置，留空视作从头开始
- 结束下标：结束位置（不含），留空视作截取到结尾
- 步长：取元素间隔
  - 步长1：一个个取元素
  - 步长2：每次跳过1个元素取
  - 步长N：每次跳过N-1个元素取
  - 负数步长：反向取（起始和结束下标也要反向标记）

#### 示例代码：
```python
# 列表切片
my_list = [0, 1, 2, 3, 4, 5, 6]
result1 = my_list[1:4]    # 结果: [1, 2, 3]

# 元组切片
my_tuple = (0, 1, 2, 3, 4, 5, 6)
result2 = my_tuple[:]     # 结果: (0, 1, 2, 3, 4, 5, 6)

# 字符串切片
my_str = "01234567"
result3 = my_str[::2]     # 结果: "0246"
result4 = my_str[::-1]    # 结果: "76543210"（反转序列）

# 反向切片
result5 = my_list[3:1:-1] # 结果: [3, 2]
result6 = my_tuple[::-2]  # 结果: (6, 4, 2, 0)
```
### 1.3 切片应用实例
```python
# 从字符串中取出"张本瑶菜"
sentence = "辩答托依是我，荣瑶本张是我，人树陶是我"

# 方法1：直接切片
s1 = sentence[7:11][::-1]    # 结果: "张本瑶荣"

# 方法2：分割和替换
s2 = sentence.split(',')[1].replace("是我", "")[::-1]
print(s2)    # 结果: "张本瑶荣"
```
## 二、集合
### 2.1 集合定义
基本语法：

- 定义集合字面量：{元素, 元素, ..., 元素}

- 定义集合变量：变量名称 = {元素, 元素, ..., 元素}

- 定义空集合：变量名称 = set()

- 注意：集合使用{}定义

### 2.2 集合特点
- 可以容纳多个数据

- 可以容纳不同类型的数据（混装）

- 数据是无序存储的（不支持下标索引）

- 不允许重复数据存在

- 可以修改（增加或删除元素等）

- 支持for循环

### 2.3 集合的常用操作
修改操作：
``` python
# 添加元素
my_set = {"Hello", "World"}
my_set.add("itheima")
print(my_set)    # 结果: {"Hello", "World", "itheima"}

# 移除元素
my_set.remove("Hello")
print(my_set)    # 结果: {"World", "itheima"}

# 随机取出元素
my_set = {"Hello", "World", "itheima"}
element = my_set.pop()
print(element)    # 随机一个元素，如: "Hello"
print(my_set)     # 剩余元素，如: {"World", "itheima"}

# 清空集合
my_set.clear()
print(my_set)    # 结果: set()
集合运算：
python
set1 = {1, 2, 3}
set2 = {1, 5, 6}

# 取差集（新集合）
set3 = set1.difference(set2)
print(set3)    # 结果: {2, 3}
print(set1)    # 结果: {1, 2, 3}（不变）
print(set2)    # 结果: {1, 5, 6}（不变）

# 消除差集（修改原集合）
set1.difference_update(set2)
print(set1)    # 结果: {2, 3}（被修改）
print(set2)    # 结果: {1, 5, 6}（不变）

# 合并集合（新集合）
set3 = set1.union(set2)
print(set3)    # 结果: {1, 2, 3, 5, 6}
print(set1)    # 结果: {1, 2, 3}（不变）
print(set2)    # 结果: {1, 5, 6}（不变）
```
### 2.4 集合遍历与统计
```python
# 统计元素数量
set1 = {1, 2, 3, 4, 5, 1, 2, 3, 4, 5}
num = len(set1)
print(f"集合内的元素数量有: {num}个")    # 结果: 5个（去重后）

# 集合遍历（不支持while循环，只能用for循环）
set1 = {1, 2, 3, 4, 5}
for element in set1:
    print(f"集合的元素有: {element}")
```
### 2.5 集合常用功能总结
| 编号 | 操作                          | 说明                                                                 |
|------|-------------------------------|----------------------------------------------------------------------|
| 1    | `集合.add(元素)`              | 集合内添加一个元素                                                     |
| 2    | `集合.remove(元素)`           | 移除集合内指定的元素                                                   |
| 3    | `集合.pop()`                  | 从集合中随机取出一个元素                                               |
| 4    | `集合.clear()`                | 将集合清空                                                           |
| 5    | `集合1.difference(集合2)`     | 得到新集合，内含2个集合的差集，原集合不变                              |
| 6    | `集合1.difference_update(集合2)` | 在集合1中删除集合2中存在的元素，集合1被修改                            |
| 7    | `集合1.union(集合2)`          | 得到新集合，内含2个集合的全部元素，原集合不变                          |
| 8    | `len(集合)`                   | 得到整数，记录集合的元素数量                                           |